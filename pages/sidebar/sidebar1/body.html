<!-- DESCRIPTION -->
<!--
It allows us to create a Sidebar.
-->

<!-- DEPENDENCIES -->
<!--
<link rel="stylesheet" type="text/css" href="node_modules/mydesign-ag/dist/main.min.css" />
<link rel="stylesheet" type="text/css" href="node_modules/@fortawesome/fontawesome-free/css/all.min.css" />
-->

<!-- CODE -->
<div class="my-simple-container">
  <span onclick="oWidget.myd_sideMenu()" class="fa fa-bars fa-2x"></span>
</div>

<div class="my-sidebar">
  <div class="background" onclick="oWidget.myd_sideMenu()"></div>
  <div class="menu">
    <div class="menucontent is-active">
      <div class="menuheader is-active">
      </div>
      <div>
        <div class="menuitems">
          <div>
            <span class="fa fa-home fa-lg"></span>
            <span class="text">Inicio</span>
          </div>
          <div>
            <span class="fa fa-plus-circle fa-lg"></span>
            <span class="text">Publica tu anuncio</span>
          </div>
          <div>
            <span class="fab fa-facebook fa-lg"></span>
            <span class="text">Grupos de Facebook</span>
          </div>
          <div>
            <span class="fa fa-question-circle fa-lg"></span>
            <span class="text">Quienes somos</span>
          </div>
          <div>
            <span class="fa fa-search fa-lg"></span>
            <span class="text">B&uacute;squeda</span>
          </div>
          <div>
            <span class="fa fa-briefcase fa-lg"></span>
            <span class="text">Trabaja con nosotros</span>
          </div>
          <div>
            <span class="fa fa-play-circle fa-lg"></span>
            <span class="text">Descarga nuestra app.</span>
          </div>
          <div>
            <span class="fab fa-facebook fa-lg"></span>
            <span class="text">S&iacute;guenos en Facebook</span>
          </div>
          <div>
            <span class="fab fa-twitter-square fa-lg"></span>
            <span class="text">S&iacute;guenos en Twitter</span>
          </div>
          <div>
            <span class="fab fa-instagram-square fa-lg"></span>
            <span class="text">S&iacute;guenos en Instagram</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>

var oWidget = {};

/*
*/
oWidget.myd_sideMenu = () => {
  let oBackground = document.querySelector(".my-sidebar .background");
  let oMenu = document.querySelector(".my-sidebar .menu");
  let sClass = oMenu.getAttribute('class');

  sClass = (sClass !== null) ? sClass : '';

  if(oBackground.style.display != 'block'){
    oBackground.style.display = 'block';

    let iIndex = 0;
    let iIndexdTimer = setInterval(() => {
      iIndex++;

      oMenu.style.width = `${iIndex}0%`;

      if(iIndex == 10){
        clearInterval(iIndexdTimer);
        sClass = (sClass !== '') ? `${sClass} is-active` : 'is-active';
        oMenu.setAttribute('class', sClass);
      }
    }, 30);
  }else{
    oMenu.setAttribute('class', sClass.replace('is-active').trim());
    oMenu.style.width = '0px';
    oBackground.style.display = 'none';
  }
}

</script>